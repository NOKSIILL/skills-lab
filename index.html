<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Onggeulda Skills Lab</title>

    <!-- SEO ë©”íƒ€ íƒœê·¸ -->
    <meta
      name="description"
      content="ë°˜ì‘ì†ë„, ê¸°ì–µë ¥, ìƒ‰ê° ë“± ë‹¤ì–‘í•œ ëŠ¥ë ¥ì„ ì¸¡ì •í•˜ê³  í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆëŠ” ê²Œì„ê³¼ ë„êµ¬ë¥¼ ì œê³µí•©ë‹ˆë‹¤."
    />
    <meta
      name="keywords"
      content="ë°˜ì‘ì†ë„ í…ŒìŠ¤íŠ¸, ê¸°ì–µë ¥ ê²Œì„, ìƒ‰ê° í…ŒìŠ¤íŠ¸, ëŠ¥ë ¥ ì¸¡ì •, ì˜¨ë¼ì¸ ê²Œì„, ì°½ì‘ ë„êµ¬"
    />
    <meta name="robots" content="index, follow" />
    <meta name="author" content="Onggeulda Studio" />

    <!-- hreflang íƒœê·¸ (í–¥í›„ ì˜ì–´ ë²„ì „ ì¶”ê°€ ì‹œ ì‚¬ìš©) -->
    <link rel="alternate" hreflang="ko" href="https://your-domain.com/ko/" />
    <link
      rel="alternate"
      hreflang="x-default"
      href="https://your-domain.com/ko/"
    />

    <!-- ìºë…¸ë‹ˆì»¬ URL -->
    <link rel="canonical" href="https://your-domain.com/" />

    <!-- íŒŒë¹„ì½˜ -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />

    <!-- ì¦‰ì‹œ ì–¸ì–´ ê°ì§€ ë° ë¦¬ë‹¤ì´ë ‰íŠ¸ ìŠ¤í¬ë¦½íŠ¸ -->
    <script>
      (function () {
        // ê°œë°œ ëª¨ë“œ í™•ì¸
        const isDev =
          window.location.hostname === "localhost" ||
          window.location.hostname === "127.0.0.1" ||
          window.location.pathname.includes("index-lang.html") ||
          window.location.search.includes("debug=1") ||
          window.location.search.includes("dev=1");

        // ìš´ì˜ ëª¨ë“œ ê°•ì œ ì„¤ì • (?prod=1 íŒŒë¼ë¯¸í„° ì‚¬ìš©)
        const isProdForced = window.location.search.includes("prod=1");

        // ì–¸ì–´ ê°ì§€ ë¡œì§
        function detectLanguage() {
          const urlParams = new URLSearchParams(window.location.search);
          const urlLang = urlParams.get("lang");
          const savedLang = localStorage.getItem("userLanguage");
          const browserLang = navigator.language || navigator.userLanguage;

          let targetLang = "ko"; // ê¸°ë³¸ê°’: í•œêµ­ì–´

          // ìš°ì„ ìˆœìœ„: URL > ì €ì¥ëœ ì„¤ì • > ë¸Œë¼ìš°ì € ì–¸ì–´
          if (urlLang === "ko") {
            targetLang = "ko";
            localStorage.setItem("userLanguage", targetLang);
          } else if (savedLang === "ko") {
            targetLang = "ko";
          } else if (browserLang && browserLang.startsWith("ko")) {
            targetLang = "ko";
          }

          return targetLang;
        }

        const targetLang = detectLanguage();

        // ê°œë°œ ëª¨ë“œê°€ ì•„ë‹ˆê±°ë‚˜ ìš´ì˜ ëª¨ë“œê°€ ê°•ì œëœ ê²½ìš° ì¦‰ì‹œ ë¦¬ë‹¤ì´ë ‰íŠ¸
        if (!isDev || isProdForced) {
          // í˜„ì¬ í•œêµ­ì–´ë§Œ ì§€ì›í•˜ë¯€ë¡œ /ko/ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
          window.location.replace("/ko/");
          return;
        }

        // ê°œë°œ ëª¨ë“œì¼ ë•Œë§Œ ë””ë²„ê·¸ ì •ë³´ ì €ì¥
        window._devModeData = {
          targetLang,
          urlLang: new URLSearchParams(window.location.search).get("lang"),
          savedLang: localStorage.getItem("userLanguage"),
          browserLang: navigator.language || navigator.userLanguage,
          isDev,
          isProdForced,
        };
      })();
    </script>

    <style>
      body {
        font-family: "Segoe UI", -apple-system, BlinkMacSystemFont, sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
        background: linear-gradient(135deg, #1a1a2e, #16213e, #0f3460);
        color: white;
        overflow: hidden;
      }

      .dev-container {
        text-align: center;
        background: rgba(0, 0, 0, 0.8);
        padding: 40px;
        border-radius: 20px;
        backdrop-filter: blur(15px);
        border: 2px solid rgba(0, 255, 136, 0.3);
        box-shadow: 0 8px 32px rgba(0, 255, 136, 0.2);
        max-width: 500px;
        width: 90%;
      }

      .dev-title {
        font-size: 24px;
        font-weight: bold;
        margin-bottom: 20px;
        color: #00ff88;
        text-shadow: 0 0 10px rgba(0, 255, 136, 0.5);
      }

      .dev-info {
        background: rgba(0, 255, 136, 0.1);
        padding: 20px;
        border-radius: 10px;
        margin: 20px 0;
        text-align: left;
        font-family: "Courier New", monospace;
        font-size: 13px;
        border: 1px solid rgba(0, 255, 136, 0.3);
      }

      .dev-info div {
        margin: 8px 0;
        padding: 4px 0;
      }

      .dev-info span {
        color: #00ff88;
        font-weight: bold;
      }

      .dev-links {
        margin-top: 25px;
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        justify-content: center;
      }

      .dev-links a {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 12px 20px;
        background: linear-gradient(45deg, #00ff88, #00cc6a);
        color: #1a1a2e;
        text-decoration: none;
        border-radius: 25px;
        font-size: 14px;
        font-weight: bold;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(0, 255, 136, 0.3);
      }

      .dev-links a:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(0, 255, 136, 0.4);
      }

      .countdown {
        font-size: 36px;
        color: #00ff88;
        font-weight: bold;
        margin: 20px 0;
        text-shadow: 0 0 20px rgba(0, 255, 136, 0.8);
      }

      .countdown-text {
        font-size: 16px;
        color: #aaa;
        margin-bottom: 20px;
      }

      /* ìš´ì˜ ëª¨ë“œìš© ìµœì†Œ ë¡œë”© ìŠ¤íƒ€ì¼ */
      .minimal-loading {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        display: none;
      }

      .minimal-spinner {
        width: 40px;
        height: 40px;
        border: 3px solid rgba(0, 255, 136, 0.3);
        border-top: 3px solid #00ff88;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      /* ë°˜ì‘í˜• ì¡°ì • */
      @media (max-width: 600px) {
        .dev-container {
          padding: 30px 20px;
          margin: 20px;
        }

        .dev-title {
          font-size: 20px;
        }

        .dev-info {
          font-size: 12px;
        }

        .countdown {
          font-size: 28px;
        }

        .dev-links a {
          padding: 10px 16px;
          font-size: 13px;
        }
      }
    </style>
  </head>
  <body>
    <!-- ê°œë°œ ëª¨ë“œì¼ ë•Œë§Œ í‘œì‹œë˜ëŠ” UI -->
    <div class="dev-container" id="devContainer" style="display: none">
      <div class="dev-title">ğŸ”§ ê°œë°œ ëª¨ë“œ - ì–¸ì–´ ê°ì§€ í…ŒìŠ¤íŠ¸</div>

      <div class="dev-info" id="devInfo">
        <div>ğŸŒ ë¸Œë¼ìš°ì € ì–¸ì–´: <span id="browserLang">-</span></div>
        <div>ğŸ’¾ ì €ì¥ëœ ì–¸ì–´: <span id="savedLang">-</span></div>
        <div>ğŸ”— URL ì–¸ì–´ íŒŒë¼ë¯¸í„°: <span id="urlLang">-</span></div>
        <div>ğŸ¯ ì„ íƒë  ì–¸ì–´: <span id="targetLang">-</span></div>
        <div>âš™ï¸ ëª¨ë“œ: <span id="modeInfo">-</span></div>
      </div>

      <div class="countdown" id="countdown">3</div>
      <div class="countdown-text">ì´ˆ í›„ ìë™ ì´ë™í•©ë‹ˆë‹¤</div>

      <div class="dev-links">
        <a href="/ko/">ğŸ‡°ğŸ‡· í•œêµ­ì–´ ì‚¬ì´íŠ¸</a>
        <a href="?lang=ko">ğŸ”„ í•œêµ­ì–´ ê°•ì œ ì„¤ì •</a>
        <a href="javascript:localStorage.clear();location.reload();"
          >ğŸ—‘ï¸ ì„¤ì • ì´ˆê¸°í™”</a
        >
        <a href="javascript:goNow();">âš¡ ì¦‰ì‹œ ì´ë™</a>
        <a href="?prod=1">ğŸš€ ìš´ì˜ ëª¨ë“œ í…ŒìŠ¤íŠ¸</a>
      </div>
    </div>

    <!-- ìš´ì˜ ëª¨ë“œìš© ìµœì†Œ ë¡œë”© (ì¼ë°˜ ì‚¬ìš©ììš©) -->
    <div class="minimal-loading" id="minimalLoading">
      <div class="minimal-spinner"></div>
    </div>

    <script>
      // ê°œë°œ ëª¨ë“œ í™•ì¸ ë° UI í‘œì‹œ
      const isDevelopmentMode =
        window.location.hostname === "localhost" ||
        window.location.hostname === "127.0.0.1" ||
        window.location.pathname.includes("index-lang.html") ||
        window.location.search.includes("debug=1") ||
        window.location.search.includes("dev=1");

      const isProdForced = window.location.search.includes("prod=1");

      if (isDevelopmentMode && !isProdForced && window._devModeData) {
        // ê°œë°œ ëª¨ë“œ UI í‘œì‹œ
        const devContainer = document.getElementById("devContainer");
        devContainer.style.display = "block";

        // ê°œë°œ ì •ë³´ í‘œì‹œ
        const data = window._devModeData;
        document.getElementById("browserLang").textContent =
          data.browserLang || "ê°ì§€ ì•ˆë¨";
        document.getElementById("savedLang").textContent =
          data.savedLang || "ì—†ìŒ";
        document.getElementById("urlLang").textContent = data.urlLang || "ì—†ìŒ";
        document.getElementById("targetLang").textContent = data.targetLang;
        document.getElementById("modeInfo").textContent = data.isDev
          ? "ê°œë°œ ëª¨ë“œ"
          : "ìš´ì˜ ëª¨ë“œ";

        // ì¹´ìš´íŠ¸ë‹¤ìš´ ë° ìë™ ì´ë™
        let count = 3;
        const countdownEl = document.getElementById("countdown");
        const countdownInterval = setInterval(() => {
          count--;
          countdownEl.textContent = count;
          if (count <= 0) {
            clearInterval(countdownInterval);
            window.location.replace("/ko/");
          }
        }, 1000);

        // ì¦‰ì‹œ ì´ë™ í•¨ìˆ˜ (ì „ì—­)
        window.goNow = function () {
          clearInterval(countdownInterval);
          window.location.replace("/ko/");
        };

        console.log("ğŸ”§ ê°œë°œ ëª¨ë“œ í™œì„±í™”:", data);
        console.log(
          "ë‹¨ì¶•í‚¤: Ctrl+K (í•œêµ­ì–´), Ctrl+R (ë¦¬ì…‹), Ctrl+P (ìš´ì˜ëª¨ë“œ)"
        );

        // ê°œë°œìš© ë‹¨ì¶•í‚¤
        document.addEventListener("keydown", function (e) {
          if (e.ctrlKey && e.key === "k") {
            e.preventDefault();
            localStorage.setItem("userLanguage", "ko");
            window.location.href = "/ko/";
          }

          if (e.ctrlKey && e.key === "r") {
            e.preventDefault();
            localStorage.removeItem("userLanguage");
            location.reload();
          }

          if (e.ctrlKey && e.key === "p") {
            e.preventDefault();
            window.location.href = "?prod=1";
          }
        });
      } else {
        // ìš´ì˜ ëª¨ë“œ: ë§¤ìš° ì§§ì€ ë¡œë”©ë§Œ í‘œì‹œ
        document.getElementById("minimalLoading").style.display = "block";

        // 100ms í›„ì—ë„ ë¦¬ë‹¤ì´ë ‰íŠ¸ê°€ ì•ˆë˜ì—ˆë‹¤ë©´ ìˆ˜ë™ ì‹¤í–‰ (ì•ˆì „ì¥ì¹˜)
        setTimeout(() => {
          console.log("ìë™ ë¦¬ë‹¤ì´ë ‰íŠ¸ ì‹¤í–‰ ì¤‘...");
          const savedLang = localStorage.getItem("userLanguage");
          const browserLang = navigator.language || navigator.userLanguage;

          // í˜„ì¬ëŠ” í•œêµ­ì–´ë§Œ ì§€ì›
          const targetLang = "ko";

          // ì–¸ì–´ ì„¤ì • ì €ì¥
          localStorage.setItem("userLanguage", targetLang);

          // ë¦¬ë‹¤ì´ë ‰íŠ¸
          window.location.replace("/ko/");
        }, 100);
      }

      // Google Analyticsë‚˜ ë‹¤ë¥¸ íŠ¸ë˜í‚¹ ì½”ë“œê°€ ìˆë‹¤ë©´ ì—¬ê¸°ì— ì¶”ê°€
      // gtag('config', 'GA_TRACKING_ID');
    </script>

    <!-- ê²€ìƒ‰ì—”ì§„ì„ ìœ„í•œ ëŒ€ì²´ ì½˜í…ì¸  -->
    <noscript>
      <meta http-equiv="refresh" content="0; url=/ko/" />
      <div
        style="
          text-align: center;
          padding: 50px;
          font-family: Arial, sans-serif;
        "
      >
        <h1>Onggeulda Skills Lab</h1>
        <p>
          JavaScriptê°€ ë¹„í™œì„±í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
          <a href="/ko/" style="color: #00ff88">í•œêµ­ì–´ ì‚¬ì´íŠ¸ë¡œ ì´ë™</a>
        </p>
      </div>
    </noscript>

    <!-- êµ¬ì¡°í™”ëœ ë°ì´í„° (SEO) -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "Onggeulda Skills Lab",
        "description": "ë°˜ì‘ì†ë„, ê¸°ì–µë ¥, ìƒ‰ê° ë“± ë‹¤ì–‘í•œ ëŠ¥ë ¥ì„ ì¸¡ì •í•˜ê³  í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆëŠ” ê²Œì„ê³¼ ë„êµ¬ë¥¼ ì œê³µí•©ë‹ˆë‹¤.",
        "url": "https://your-domain.com/",
        "inLanguage": "ko-KR",
        "potentialAction": {
          "@type": "SearchAction",
          "target": "https://your-domain.com/ko/?search={search_term_string}",
          "query-input": "required name=search_term_string"
        }
      }
    </script>
  </body>
</html>
